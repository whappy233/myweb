/*! lightense-images v1.0.5 | Â© Tunghsiao Liu | MIT */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Lightense=t():e.Lightense=t()}(window,function(){return function(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}return o.m=n,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t){function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n=function(){"use strict";var n,h=window,v=document,k={time:300,padding:40,offset:40,keyboard:!0,cubicBezier:"cubic-bezier(.2, 0, .1, 1)",background:"rgba(255, 255, 255, .98)",zIndex:2147483647},x={};function r(t){t.src&&(t.classList.add("lightense-target"),t.addEventListener("click",function(e){if(x.keyboard&&(e.metaKey||e.ctrlKey))return h.open(t.src,"_blank");!function(e){if(x.target=e,x.target.classList.contains("lightense-open"))return a();x.scrollY=h.scrollY;var t=new Image;t.onload=function(){!function(e){var t=e.width,n=e.height,r=h.pageYOffset||v.documentElement.scrollTop||0,o=h.pageXOffset||v.documentElement.scrollLeft||0,i=x.target.getBoundingClientRect(),a=t/i.width,c=h.innerWidth||v.documentElement.clientWidth||0,s=h.innerHeight||v.documentElement.clientHeight||0,l=x.target.getAttribute("data-lightense-padding")||x.target.getAttribute("data-padding")||x.padding,d=l<c?c-l:c-k.padding,u=l<s?s-l:s-k.padding,g=t/n,p=d/u;x.scaleFactor=t<d&&n<u?a:g<p?u/n*a:d/t*a;var f=c/2,b=r+s/2,m=i.left+o+i.width/2,y=i.top+r+i.height/2;x.translateX=f-m,x.translateY=b-y}(this),function(){x.target.classList.add("lightense-open"),x.wrap=v.createElement("div"),x.wrap.className="lightense-wrap",setTimeout(function(){x.target.style.transform="scale("+x.scaleFactor+")"},20),x.target.parentNode.insertBefore(x.wrap,x.target),x.wrap.appendChild(x.target),setTimeout(function(){x.wrap.style.transform="translate3d("+x.translateX+"px, "+x.translateY+"px, 0)"},20);var e={cubicBezier:x.target.getAttribute("data-lightense-cubic-bezier")||x.cubicBezier,background:x.target.getAttribute("data-lightense-background")||x.target.getAttribute("data-background")||x.background,zIndex:x.target.getAttribute("data-lightense-z-index")||x.zIndex},t=Object.assign({},x,e);i("lightense-images-css-computed","\n    .lightense-backdrop {\n      z-index: ".concat(t.zIndex-1,";\n      transition: opacity ").concat(t.time,"ms ease;\n      background-color: ").concat(t.background,";\n    }\n\n    @supports (-webkit-backdrop-filter: blur(30px)) {\n      .lightense-backdrop {\n        background-color: ").concat(o(t.background),";\n      }\n    }\n\n    .lightense-wrap {\n      transition: transform ").concat(t.time,"ms ").concat(t.cubicBezier,";\n      z-index: ").concat(t.zIndex,";\n    }\n\n    .lightense-target {\n      transition: transform ").concat(t.time,"ms ").concat(t.cubicBezier,";\n    }")),x.container.style.visibility="visible",setTimeout(function(){x.container.style.opacity="1"},20)}(),h.addEventListener("keyup",s,!1),h.addEventListener("scroll",c,!1),x.container.addEventListener("click",a,!1)},t.src=x.target.src}(this)},!1))}function o(e){var t,n,r=/^#([A-Fa-f0-9]{3}){1,2}$/.test(t=e)?(3===(n=t.substring(1).split("")).length&&(n=[n[0],n[0],n[1],n[1],n[2],n[2]]),"rgba("+[(n="0x"+n.join(""))>>16&255,n>>8&255,255&n].join(", ")+", 1)"):/(rgb\((?:\d{1,3}[,\)] ?){3}(?:\d?\.\d+\))?)/.test(t)?t.replace(")",", 1)"):/(rgba\((?:\d{1,3}[,\)] ?){3}(?:\d?\.\d+\))?)/.test(t)?t:(console.log("Invalid color: "+t),k.background),o=/([\d\.]+)\)$/g,i=o.exec(r)[1];return r.replace(o,.7*i+")")}function i(e,t){var n=v.head||v.getElementsByTagName("head")[0];v.getElementById(e)&&v.getElementById(e).remove();var r=v.createElement("style");r.id=e,r.styleSheet?r.styleSheet.cssText=t:r.appendChild(v.createTextNode(t)),n.appendChild(r)}function a(){h.removeEventListener("keyup",s,!1),h.removeEventListener("scroll",c,!1),x.container.removeEventListener("click",a,!1),x.target.classList.remove("lightense-open"),x.wrap.style.transform="",x.target.style.transform="",x.target.classList.add("lightense-transitioning"),x.container.style.opacity="",setTimeout(function(){x.container.style.visibility="",x.container.style.backgroundColor="",x.wrap.parentNode.replaceChild(x.target,x.wrap),x.target.classList.remove("lightense-transitioning")},x.time)}function c(){Math.abs(x.scrollY-h.scrollY)>=x.offset&&a()}function s(e){e.preventDefault(),27===e.keyCode&&a()}return function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};n=function(e){switch(l(e)){case"undefined":throw"You need to pass an element!";case"string":return document.querySelectorAll(e);case"object":return e}}(e),x=Object.assign({},k,t),i("lightense-images-css","\n.lightense-backdrop {\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  top: 0;\n  left: 0;\n  overflow: hidden;\n  z-index: ".concat(x.zIndex-1,";\n  padding: 0;\n  margin: 0;\n  transition: opacity ").concat(x.time,"ms ease;\n  cursor: zoom-out;\n  opacity: 0;\n  background-color: ").concat(x.background,";\n  visibility: hidden;\n}\n\n@supports (-webkit-backdrop-filter: blur(30px)) {\n  .lightense-backdrop {\n    background-color: ").concat(o(x.background),";\n    -webkit-backdrop-filter: blur(30px);\n    backdrop-filter: blur(30px);\n  }\n}\n\n.lightense-wrap {\n  position: relative;\n  transition: transform ").concat(x.time,"ms ").concat(x.cubicBezier,";\n  z-index: ").concat(x.zIndex,";\n  pointer-events: none;\n}\n\n.lightense-target {\n  cursor: zoom-in;\n  transition: transform ").concat(x.time,"ms ").concat(x.cubicBezier,";\n  pointer-events: auto;\n}\n\n.lightense-open {\n  cursor: zoom-out;\n}\n\n.lightense-transitioning {\n  pointer-events: none;\n}")),x.container=v.createElement("div"),x.container.className="lightense-backdrop",v.body.appendChild(x.container),function(e){var t=e.length;if(t)for(var n=0;n<t;n++)r(e[n]);else r(e)}(n)}}();e.exports=n}])});