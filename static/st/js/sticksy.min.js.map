{"version":3,"sources":["./src/sticksy.js"],"names":["window","Sticksy","STATES","instances","Constructor","target","options","Error","Element","Object","prototype","toString","call","targetEl","Utils","findElement","containerEl","parentNode","this","_props","topSpacing","listen","onStateChanged","push","_initialize","that","state","_stickyNodes","_dummyNodes","sibling","clone","cloneNode","style","visibility","className","removeAttribute","insertBefore","nextElementSibling","_stickyNodesHeight","_limits","top","bottom","position","_shouldCollapseMargins","getComputedStyle","display","indexOf","hardRefresh","MutationObserver","mutations","forEach","mutation","attributeName","observe","attributes","characterData","childList","subtree","_calcState","windowOffset","_updateStickyNodesHeight","getComputedBox","length","bottomWithMargin","topWithMargin","_updateLimits","stickyNodes","containerBox","topNodeBox","paddingBottom","refresh","pageYOffset","_resetElements","_disableElements","_fixElementsSize","_fixElements","_stuckElements","_enableElements","elements","previousMarginBottom","offset","i","el","box","extraMarginTop","Math","max","marginTop","height","marginBottom","previousMarginTop","extraMarginBottom","width","stickyNode","refreshAll","hardRefreshAll","initializeAll","ignoreNothingFound","get","document","querySelectorAll","parents","stickyElements","map","addEventListener","parseNumber","val","parseFloat","root","querySelector","undefined","elem","getBoundingClientRect","paddingTop","jQueryPlugin","$","jQuery","Zepto","fn","sticksy","opts"],"mappings":"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"}