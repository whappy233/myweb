
{% extends 'base.html' %}
{% load static %}

{% block content %}
<h1>Register</h1>
<div class="form-wrapper">
    <form method="POST" action="" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="fieldWrapper">
            <table>
                <tr>
                    <td>{{ form.username.label_tag }}</td>
                    <td>{{ form.username }}</td>
                    {% for error in form.username.errors %}
                        <td class="errorlist">{{ error|escape }}</td>
                    {% endfor %}
                </tr>
                <tr>
                    <td>{{ form.email.label_tag }}</td>
                    <td>{{ form.email }}</td>
                    {% for error in form.email.errors %}
                        <td class="errorlist">{{ error|escape }}</td>
                    {% endfor %}
                </tr>
                <tr>
                    <td>{{ form.password1.label_tag }}</td>
                    <td>{{ form.password1 }}</td>
                    {% for error in form.password1.errors %}
                        <td class="errorlist">{{ error|escape }}</td>
                    {% endfor %}
                </tr>
                <tr>
                    <td>{{ form.password2.label_tag }}</td>
                    <td>{{ form.password2 }}</td>
                    {% for error in form.password2.errors %}
                        <td class="errorlist">{{ error|escape }}</td>
                    {% endfor %}
                </tr>
                <tr>
                    <td>{{ form.check_code.label_tag }}</td>
                    <td>{{ form.check_code }}</td>
                    <td>
                        <img src="{% url 'app_user:check_code' %}" onclick="ChangeCode(this);">
                    </td>
                </tr>
            </table>
        </div>

        <div class="button-wrapper submit">
            {% for error in form.check_code.errors %}
            <p style="color: rgb(242, 58, 105);">{{ error|escape }}</p>
            {% endfor %}
            <input type="submit" value="Register" />
            <a style="margin: 16px;" href="{% url 'app_user:login' %}">已有有账号? 去登录➡️</a>
        </div>
    </form>
</div>
<script>
    // 点击一次,更改图片内容,
    function ChangeCode(ths){
        ths.src = ths.src + '?';
    }
</script>
{% endblock %}