{% load static %}
{% load common_tags %}


<!DOCTYPE html>
<html lang="zh">

<head>
  <meta charset="UTF-8">
  <title>浩瀚星海|Gallery</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
  <link rel="stylesheet" href="{% static 'gallery/style.css' %}">
</head>

<body>
  {% if page_obj %}

  <div class="boxes">
    {% for gallery in page_obj %}

    <div class="box" 
      data-title="{{gallery.title}}" 
      data-time="{{ gallery.mod_date |date:'Y-m-j H:i:s' }}" 
      data-count="{{gallery.photos.count}}" 
      data-href="{% url 'app_gallery:gallery_detail' gallery.pk gallery.slug %}?before={{request.get_full_path}}" 
      style="--src: url('{{ gallery.thumb.url }}')">
      <span>{{forloop.counter}}</span>
      <img src="{{ gallery.thumb.url }}" />
    </div>

    {% endfor %}


    <!-- <div class="box" style="--src: url({% static 'gallery/images/ab67616d00001e02d9194aa18fa4c9362b47464f.jpg' %})">
      <img src="{% static 'gallery/images/ab67616d00001e02d9194aa18fa4c9362b47464f.jpg' %}" />
    </div>
    <div class="box" style="--src: url({% static 'gallery/images/ab67616d00001e02a7ea08ab3914c5fb2084a8ac.jpg' %})">
      <span>3</span>
      <img src="{% static 'gallery/images/ab67616d00001e02a7ea08ab3914c5fb2084a8ac.jpg' %}" />
    </div>
    <div class="box" style="--src: url({% static 'gallery/images/ab67616d00001e0213ca80c3035333e5a6fcea59.jpg' %})">
      <span>4</span>
      <img src="{% static 'gallery/images/ab67616d00001e0213ca80c3035333e5a6fcea59.jpg' %}" />
    </div>
    <div class="box" style="--src: url({% static 'gallery/images/ab67616d00001e02df04e6071763615d44643725.jpg' %})">
      <span>5</span>
      <img src="{% static 'gallery/images/ab67616d00001e02df04e6071763615d44643725.jpg' %}" />
    </div>
    <div class="box" style="--src: url({% static 'gallery/images/ab67616d00001e0239c7302c04f8d06f60e14403.jpg' %})">
      <span>6</span>
      <img src="{% static 'gallery/images/ab67616d00001e0239c7302c04f8d06f60e14403.jpg' %}" />
    </div>
    <div class="box" style="--src: url({% static 'gallery/images/ab67616d00001e021c0bcf8b536295438d26c70d.jpg' %})">
      <span>7</span>
      <img src="{% static 'gallery/images/ab67616d00001e021c0bcf8b536295438d26c70d.jpg' %}" />
    </div>
    <div class="box" style="--src: url({% static 'gallery/images/ab67616d00001e029bbd79106e510d13a9a5ec33.jpg' %})">
      <span>8</span>
      <img src="{% static 'gallery/images/ab67616d00001e029bbd79106e510d13a9a5ec33.jpg' %}" />
    </div>
    <div class="box" style="--src: url({% static 'gallery/images/ab67616d00001e021d97ca7376f835055f828139.jpg' %})">
      <span>9</span>
      <img src="{% static 'gallery/images/ab67616d00001e021d97ca7376f835055f828139.jpg' %}" />
    </div>
    <div class="box" style="--src: url({% static 'gallery/images/ab67706c0000bebb30677d72001e25584b0fbb37.jpg' %})">
      <span>10</span>
      <img src="{% static 'gallery/images/ab67706c0000bebb30677d72001e25584b0fbb37.jpg' %}" />
    </div> -->


  </div>

  <!-- 相册信息 -->
  <div class="gallery-info"></div>

  <!-- 提示svg -->
  <svg class="scroll-icon" viewBox="0 0 24 24">
    <path fill="currentColor"
      d="M20 6H23L19 2L15 6H18V18H15L19 22L23 18H20V6M9 3.09C11.83 3.57 14 6.04 14 9H9V3.09M14 11V15C14 18.3 11.3 21 8 21S2 18.3 2 15V11H14M7 9H2C2 6.04 4.17 3.57 7 3.09V9Z">
    </path>
  </svg>

  <div class="drag-proxy"></div>

  <!-- 详情按钮 -->
  <div class="export"><a href="{% url 'app_gallery:gallery_detail' page_obj.0.pk page_obj.0.slug %}?before={{request.get_full_path}}">Go</a></div>

  <script type="module" src="{% static 'gallery/script.js' %}"></script>


  {% else %}
  <p style="color: #fff;">
    暂无相册
    <a href="{% url 'app_blog:article_list' %}">返回Blog</a>
  </p>
  {% endif %}


</body>

</html>